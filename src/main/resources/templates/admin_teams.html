<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <title>ê´€ë¦¬ì í˜ì´ì§€ - íŒ€ ê´€ë¦¬</title>
  <style>
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f4f6f9; margin:0; padding:0; color:#333; }
    header { background: #1f75fe; color: white; padding: 1rem 2rem; display:flex; justify-content: space-between; align-items:center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    header a { color:white; text-decoration:none; margin-left:1rem; padding: 0.3rem 0.6rem; border-radius: 4px; transition: background 0.3s; }
    header a:hover { background: rgba(255, 255, 255, 0.2); }
    main { padding:2rem; max-width: 1200px; margin: 0 auto; }
    table { width:100%; border-collapse: separate; border-spacing: 0; margin-top:1.5rem; background:white; border-radius:10px; overflow:hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
    th, td { padding:1rem 1.2rem; text-align:left; }
    th { background:#eef2ff; color: #3b82f6; font-weight: 600; border-bottom: 2px solid #d1d5db; }
    tbody tr { border-bottom:1px solid #ebf4ff; transition: background 0.3s; }
    tbody tr:last-child { border-bottom: none; }
    tbody tr:hover { background: #f9fbfc; }
    input[type="text"], input[type="password"], select {
      width: calc(100% - 10px);
      padding:0.6rem;
      border-radius:6px;
      border:1px solid #d1d5db;
      box-sizing: border-box;
      transition: border-color 0.3s, box-shadow 0.3s;
      font-size: 1rem;
    }
    input[readonly] { background-color: #f0f0f0; cursor: not-allowed; }
    input:focus { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); outline: none; }
    .btn { padding:0.6rem 1rem; border:none; border-radius:6px; cursor:pointer; font-weight: 500; transition: opacity 0.3s, transform 0.2s; min-width: 80px; }
    .btn:hover { opacity:0.9; transform: translateY(-1px); }
    .btn:active { transform: translateY(0); }
    .btn-save { background:#10b981; color:white; }
    .btn-delete { background:#f43f5e; color:white; }
    .btn-cleanup { background:#ff9800; color:white; margin-top: 1rem; } /* âœ¨ ìƒˆë¡œ ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
    /* ë²„íŠ¼ì„ ê°ì‹¸ëŠ” ì»¨í…Œì´ë„ˆ */
    .action-buttons {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      /* í¼ì´ <td> ì•ˆì—ì„œ ì •ìƒ ì‘ë™í•˜ë„ë¡ inline-flex ì‚¬ìš© */
      display: inline-flex;
    }
    /* í¼ì˜ ë§ˆì§„ ì œê±° */
    .action-buttons form { margin: 0; }
    .top-actions { text-align: right; margin-bottom: 1.5rem; } /* âœ¨ ìƒˆë¡œ ì¶”ê°€ëœ ì»¨í…Œì´ë„ˆ */
  </style>
</head>
<body>
<header>
  <h1>ê´€ë¦¬ì í˜ì´ì§€ - íŒ€ ê´€ë¦¬</h1>
  <nav>
    <a th:href="@{/main}">ë©”ì¸</a>
    <a th:href="@{/admin/users}">ì‚¬ìš©ì ê´€ë¦¬</a>
  </nav>
</header>
<main>
  <div class="top-actions">
    <form th:action="@{/admin/teams/cleanup}" method="post" onsubmit="return confirm('ê²½ê³ : ê´€ë¦¬ì ì •ë³´(managerName)ê°€ \"NULL\"ì¸ ëª¨ë“  íŒ€ì„ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
    <button type="submit" class="btn btn-cleanup">ğŸ—‘ï¸ ê³ ì•„ íŒ€ ì¼ê´„ ì •ë¦¬ (NULL)</button>
    </form>
  </div>
  <table>
    <thead>
    <tr>
      <th style="width: 10%;">ID</th>
      <th style="width: 25%;">íŒ€ ì´ë¦„</th>
      <th style="width: 25%;">ì„¤ëª…</th>
      <th style="width: 20%;">ë¹„ë°€ë²ˆí˜¸</th>
      <th style="width: 10%;">íŒ€ì¥</th>
      <th style="width: 10%;">ì‘ì—…</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="team : ${teams}">
      <form th:action="@{/admin/teams/update}" method="post">
        <td>
          <input type="text" th:value="${team.id}" readonly />
          <input type="hidden" th:name="teamId" th:value="${team.id}" />
        </td>

        <td>
          <input type="text" th:name="name" th:value="${team.name}" />
        </td>

        <td>
          <input type="text" th:name="description" th:value="${team.description}" />
        </td>

        <td>
          <input type="password" th:name="password" placeholder="ë³€ê²½ì‹œ ì…ë ¥" />
        </td>

        <td th:text="${team.managerName}"
            th:style="${team.managerName == 'NULL' ? 'color: #f43f5e; font-weight: bold;' : ''}">
          í™ê¸¸ë™
        </td>

        <td>
          <div class="action-buttons">
            <button type="submit" class="btn btn-save">ğŸ’¾ ì €ì¥</button>
      </form>
      <form th:action="@{/admin/teams/delete}" method="post">
        <input type="hidden" th:name="teamId" th:value="${team.id}" />
        <button type="submit" class="btn btn-delete" onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">ğŸ—‘ ì‚­ì œ</button>
      </form>
      </div>
      </td>
    </tr>
    </tbody>
  </table>
</main>
</body>
</html>